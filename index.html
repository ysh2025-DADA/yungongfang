<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>äº‘å·¥åŠ - ç™»å½•</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .mode-button.active {
            transform: scale(1.05);
        }
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center p-4">
    <div class="max-w-md w-full space-y-8">
        <!-- æ ‡é¢˜åŒºåŸŸ -->
        <div class="text-center fade-in">
            <div class="mx-auto h-16 w-16 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full flex items-center justify-center mb-4">
                <i data-lucide="graduation-cap" class="h-8 w-8 text-white"></i>
            </div>
            <h2 class="text-3xl font-bold text-gray-900 mb-2">
                äº‘å·¥åŠ
            </h2>
            <p class="text-gray-600">
                å­¦ä¹ ã€èµ„æ–™å…±äº«ã€é—®é¢˜è§£ç­”ã€è®¡åˆ’å‘å¸ƒã€æˆç»©è®°å½•
            </p>
        </div>

        <!-- æ¨¡å¼é€‰æ‹© -->
        <div class="bg-white rounded-lg p-4 shadow-sm border">
            <div class="flex space-x-2">
                <button id="student-mode" class="mode-button flex-1 flex flex-col items-center p-3 rounded-lg transition-all duration-200 bg-blue-500 text-white shadow-md active">
                    <i data-lucide="graduation-cap" class="h-5 w-5 mb-1"></i>
                    <span class="text-xs font-medium">å­¦ç”Ÿ</span>
                </button>
                <button id="teacher-mode" class="mode-button flex-1 flex flex-col items-center p-3 rounded-lg transition-all duration-200 text-gray-600 hover:bg-gray-50">
                    <i data-lucide="book-open" class="h-5 w-5 mb-1"></i>
                    <span class="text-xs font-medium">æ•™å¸ˆ</span>
                </button>
                <button id="admin-mode" class="mode-button flex-1 flex flex-col items-center p-3 rounded-lg transition-all duration-200 text-gray-600 hover:bg-gray-50">
                    <i data-lucide="shield" class="h-5 w-5 mb-1"></i>
                    <span class="text-xs font-medium">ç®¡ç†å‘˜</span>
                </button>
            </div>
        </div>

        <!-- ç™»å½•è¡¨å• -->
        <div class="bg-white rounded-lg shadow-lg p-8 border">
            <div class="text-center mb-6">
                <h3 id="login-title" class="text-xl font-semibold text-gray-900 mb-2">
                    å­¦ç”Ÿç™»å½•
                </h3>
                <p id="login-description" class="text-sm text-gray-600">
                    è®¿é—®å­¦ä¹ èµ„æ–™ã€æäº¤ä½œä¸šã€æŸ¥çœ‹æˆç»©
                </p>
            </div>

            <form id="login-form" class="space-y-6">
                <!-- ç”¨æˆ·åè¾“å…¥ -->
                <div>
                    <label for="username" class="block text-sm font-medium text-gray-700 mb-2">
                        ç”¨æˆ·å
                    </label>
                    <div class="relative">
                        <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                            <i data-lucide="user" class="h-5 w-5 text-gray-400"></i>
                        </div>
                        <input
                            id="username"
                            name="username"
                            type="text"
                            required
                            class="block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"
                            placeholder="è¯·è¾“å…¥ç”¨æˆ·å"
                        />
                    </div>
                </div>

                <!-- å¯†ç è¾“å…¥ -->
                <div>
                    <label for="password" class="block text-sm font-medium text-gray-700 mb-2">
                        å¯†ç 
                    </label>
                    <div class="relative">
                        <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                            <i data-lucide="shield" class="h-5 w-5 text-gray-400"></i>
                        </div>
                        <input
                            id="password"
                            name="password"
                            type="password"
                            required
                            class="block w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"
                            placeholder="è¯·è¾“å…¥å¯†ç "
                        />
                        <button
                            type="button"
                            id="toggle-password"
                            class="absolute inset-y-0 right-0 pr-3 flex items-center"
                        >
                            <i data-lucide="eye" class="h-5 w-5 text-gray-400 hover:text-gray-600"></i>
                        </button>
                    </div>
                </div>

                <!-- è®°ä½æˆ‘é€‰é¡¹ -->
                <div class="flex items-center justify-between">
                    <div class="flex items-center">
                        <input
                            id="remember-me"
                            name="remember-me"
                            type="checkbox"
                            class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"
                        />
                        <label for="remember-me" class="ml-2 block text-sm text-gray-700">
                            è®°ä½æˆ‘
                        </label>
                    </div>
                    <div class="text-sm">
                        <a href="#" class="font-medium text-blue-600 hover:text-blue-500">
                            å¿˜è®°å¯†ç ï¼Ÿ
                        </a>
                    </div>
                </div>

                <!-- ç™»å½•æŒ‰é’® -->
                <div>
                    <button
                        type="submit"
                        id="login-button"
                        class="group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-500 hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200"
                    >
                        ç™»å½•
                    </button>
                </div>
            </form>

            <!-- è´¦å·æç¤º -->
            <div class="mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200">
                <h4 class="text-sm font-medium text-blue-900 mb-2">ğŸ“‹ å¯ç”¨è´¦å·</h4>
                <div class="text-xs text-blue-700 space-y-1">
                    <div><strong>ç®¡ç†å‘˜ï¼š</strong>18072830839 / ysh938798</div>
                    <div><strong>å­¦ç”Ÿï¼š</strong>student1 / 123456 (å¼ ä¸‰) | student2 / 123456 (æå››)</div>
                    <div><strong>æ•™å¸ˆï¼š</strong>teacher1 / 123456 (ç‹è€å¸ˆ) | teacher2 / 123456 (æè€å¸ˆ)</div>
                </div>
                <div class="mt-3 pt-3 border-t border-blue-200 space-y-2">
                    <button onclick="quickFix()" class="text-xs bg-orange-500 hover:bg-orange-600 text-white px-3 py-1 rounded transition-colors">
                        ğŸ”§ å¿«é€Ÿä¿®å¤ç™»å½•é—®é¢˜
                    </button>
                    <div class="text-xs text-blue-600">
                        ğŸ’¡ æ— æ³•ä½¿ç”¨ç®¡ç†å‘˜æ·»åŠ çš„è´¦å·ï¼Ÿè¯·è®¿é—® 
                        <a href="user-sync.html" class="underline hover:text-blue-800">ç”¨æˆ·æ•°æ®åŒæ­¥</a> é¡µé¢
                    </div>
                    <div class="text-xs text-blue-600">
                        ğŸ”§ æ‰¾ä¸åˆ°GitHubè‡ªåŠ¨åŒæ­¥é¡µé¢ï¼Ÿè¯·è®¿é—® 
                        <a href="test-github-sync.html" class="underline hover:text-blue-800">GitHubåŒæ­¥æµ‹è¯•</a> é¡µé¢
                    </div>
                    <div class="text-xs text-blue-600">
                        âŒ åˆ›å»ºGistå¤±è´¥ï¼Ÿè¯·è®¿é—® 
                        <a href="github-token-guide.html" class="underline hover:text-blue-800">GitHub Tokené…ç½®æŒ‡å—</a>
                    </div>
                </div>
            </div>

            <!-- å…¶ä»–é€‰é¡¹ -->
            <div class="mt-6">
                <div class="relative">
                    <div class="absolute inset-0 flex items-center">
                        <div class="w-full border-t border-gray-300"></div>
                    </div>
                    <div class="relative flex justify-center text-sm">
                        <span class="px-2 bg-white text-gray-500">æˆ–</span>
                    </div>
                </div>

                <div class="mt-6 grid grid-cols-2 gap-3">
                    <button class="w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-lg shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 transition-colors">
                        å¾®ä¿¡ç™»å½•
                    </button>
                    <button class="w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-lg shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 transition-colors">
                        QQç™»å½•
                    </button>
                </div>
            </div>
        </div>

        <!-- é¡µè„š -->
        <div class="text-center text-sm text-gray-600">
            <p>è¿˜æ²¡æœ‰è´¦å·ï¼Ÿ</p>
            <a href="#" class="font-medium text-blue-600 hover:text-blue-500">
                è”ç³»ç®¡ç†å‘˜æ³¨å†Œ
            </a>
        </div>
    </div>

    <script>
        // åˆå§‹åŒ–Lucideå›¾æ ‡
        lucide.createIcons();

        // æ¨¡å¼é…ç½®
        const modeConfig = {
            student: {
                title: 'å­¦ç”Ÿç™»å½•',
                icon: 'graduation-cap',
                color: 'bg-blue-500',
                description: 'è®¿é—®å­¦ä¹ èµ„æ–™ã€æäº¤ä½œä¸šã€æŸ¥çœ‹æˆç»©',
            },
            teacher: {
                title: 'æ•™å¸ˆç™»å½•',
                icon: 'book-open',
                color: 'bg-green-500',
                description: 'å‘å¸ƒè¯¾ç¨‹ã€ç®¡ç†å­¦ç”Ÿã€æ‰¹æ”¹ä½œä¸š',
            },
            admin: {
                title: 'ç®¡ç†å‘˜ç™»å½•',
                icon: 'shield',
                color: 'bg-purple-500',
                description: 'ç³»ç»Ÿç®¡ç†ã€ç”¨æˆ·ç®¡ç†ã€æ•°æ®ç»Ÿè®¡',
            },
        };

        let currentMode = 'student';

        // æ¨¡å¼åˆ‡æ¢åŠŸèƒ½
        function switchMode(mode) {
            currentMode = mode;
            const config = modeConfig[mode];
            
            // æ›´æ–°æ¨¡å¼æŒ‰é’®çŠ¶æ€
            document.querySelectorAll('.mode-button').forEach(btn => {
                btn.classList.remove('active', 'bg-blue-500', 'bg-green-500', 'bg-purple-500', 'text-white', 'shadow-md');
                btn.classList.add('text-gray-600', 'hover:bg-gray-50');
            });
            
            const activeButton = document.getElementById(`${mode}-mode`);
            activeButton.classList.add('active', config.color, 'text-white', 'shadow-md');
            activeButton.classList.remove('text-gray-600', 'hover:bg-gray-50');
            
            // æ›´æ–°ç™»å½•è¡¨å•
            document.getElementById('login-title').textContent = config.title;
            document.getElementById('login-description').textContent = config.description;
            document.getElementById('login-button').className = `group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white ${config.color} hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200`;
            
            // é‡æ–°åˆå§‹åŒ–å›¾æ ‡
            lucide.createIcons();
        }

        // ç»‘å®šæ¨¡å¼åˆ‡æ¢äº‹ä»¶
        document.getElementById('student-mode').addEventListener('click', () => switchMode('student'));
        document.getElementById('teacher-mode').addEventListener('click', () => switchMode('teacher'));
        document.getElementById('admin-mode').addEventListener('click', () => switchMode('admin'));

        // å¯†ç æ˜¾ç¤º/éšè—åŠŸèƒ½
        let passwordVisible = false;
        document.getElementById('toggle-password').addEventListener('click', function() {
            const passwordInput = document.getElementById('password');
            const icon = this.querySelector('i');
            
            if (passwordVisible) {
                passwordInput.type = 'password';
                icon.setAttribute('data-lucide', 'eye');
            } else {
                passwordInput.type = 'text';
                icon.setAttribute('data-lucide', 'eye-off');
            }
            
            passwordVisible = !passwordVisible;
            lucide.createIcons();
        });

        // é¢„è®¾çš„ç®¡ç†å‘˜è´¦å·
        const adminCredentials = {
            username: '18072830839',
            password: 'ysh938798'
        };

        // ä»localStorageåŠ è½½ç”¨æˆ·æ•°æ®
        function loadUsers() {
            const savedUsers = localStorage.getItem('admin_users');
            if (savedUsers) {
                try {
                    const users = JSON.parse(savedUsers);
                    console.log('ä»localStorageåŠ è½½ç”¨æˆ·æ•°æ®:', users.length, 'ä¸ªç”¨æˆ·');
                    return users;
                } catch (error) {
                    console.error('è§£ælocalStorageç”¨æˆ·æ•°æ®å¤±è´¥:', error);
                    // å¦‚æœæ•°æ®æŸåï¼Œæ¸…é™¤å¹¶é‡æ–°åˆå§‹åŒ–
                    localStorage.removeItem('admin_users');
                }
            }
            
            // å¦‚æœæ²¡æœ‰ä¿å­˜çš„ç”¨æˆ·æ•°æ®ï¼Œåˆ›å»ºé»˜è®¤çš„æ¼”ç¤ºç”¨æˆ·å¹¶ä¿å­˜åˆ°localStorage
            const defaultUsers = [
                {
                    id: 1,
                    username: 'student1',
                    password: '123456',
                    realName: 'å¼ ä¸‰',
                    email: 'student1@demo.com',
                    phone: '13800138001',
                    role: 'student',
                    status: 'active',
                    grade: 'grade3',
                    registerTime: '2024-01-01',
                    lastLogin: 'ä»æœªç™»å½•'
                },
                {
                    id: 2,
                    username: 'student2',
                    password: '123456',
                    realName: 'æå››',
                    email: 'student2@demo.com',
                    phone: '13800138002',
                    role: 'student',
                    status: 'active',
                    grade: 'grade4',
                    registerTime: '2024-01-02',
                    lastLogin: 'ä»æœªç™»å½•'
                },
                {
                    id: 3,
                    username: 'teacher1',
                    password: '123456',
                    realName: 'ç‹è€å¸ˆ',
                    email: 'teacher1@demo.com',
                    phone: '13800138003',
                    role: 'teacher',
                    status: 'active',
                    registerTime: '2024-01-03',
                    lastLogin: 'ä»æœªç™»å½•'
                },
                {
                    id: 4,
                    username: 'teacher2',
                    password: '123456',
                    realName: 'æè€å¸ˆ',
                    email: 'teacher2@demo.com',
                    phone: '13800138004',
                    role: 'teacher',
                    status: 'active',
                    registerTime: '2024-01-04',
                    lastLogin: 'ä»æœªç™»å½•'
                }
            ];
            
            // ä¿å­˜é»˜è®¤ç”¨æˆ·åˆ°localStorage
            localStorage.setItem('admin_users', JSON.stringify(defaultUsers));
            console.log('å·²åˆå§‹åŒ–é»˜è®¤ç”¨æˆ·æ•°æ®:', defaultUsers);
            
            return defaultUsers;
        }

        // å°è¯•ä»GitHubåŒæ­¥æ•°æ®
        async function tryGitHubSync() {
            // æ£€æŸ¥æ˜¯å¦æœ‰GitHubåŒæ­¥é…ç½®
            const gistId = localStorage.getItem('github_gist_id');
            const token = localStorage.getItem('github_token');
            
            if (gistId && token) {
                try {
                    console.log('æ£€æµ‹åˆ°GitHubåŒæ­¥é…ç½®ï¼Œå°è¯•åŒæ­¥æ•°æ®...');
                    
                    // åŠ¨æ€åŠ è½½GitHubåŒæ­¥è„šæœ¬
                    if (!window.githubSync) {
                        const script = document.createElement('script');
                        script.src = 'github-sync.js';
                        document.head.appendChild(script);
                        
                        // ç­‰å¾…è„šæœ¬åŠ è½½å®Œæˆ
                        await new Promise((resolve) => {
                            script.onload = resolve;
                        });
                    }
                    
                    // åˆå§‹åŒ–åŒæ­¥
                    const result = await window.githubSync.initialize(token, gistId);
                    if (result.success) {
                        // å°è¯•åŒæ­¥æ•°æ®
                        const users = await window.githubSync.syncUsers();
                        console.log('GitHubåŒæ­¥æˆåŠŸï¼Œè·å–åˆ°', users.length, 'ä¸ªç”¨æˆ·');
                        return users;
                    }
                } catch (error) {
                    console.warn('GitHubåŒæ­¥å¤±è´¥ï¼Œä½¿ç”¨æœ¬åœ°æ•°æ®:', error.message);
                }
            }
            
            return null;
        }

        // å­¦ç”Ÿæ¨¡å¼ç™»å½•
        function loginStudent() {
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            
            if (!username || !password) {
                alert('è¯·è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ');
                return;
            }
            
            // ä»localStorageéªŒè¯å­¦ç”Ÿè´¦å·
            const users = loadUsers();
            console.log('å½“å‰ç”¨æˆ·åˆ—è¡¨:', users);
            console.log('å°è¯•ç™»å½•:', { username, password, mode: 'student' });
            
            const student = users.find(user => 
                user.username === username && 
                user.password === password && 
                user.role === 'student' && 
                user.status === 'active'
            );
            
            console.log('æ‰¾åˆ°çš„å­¦ç”Ÿç”¨æˆ·:', student);
            
            if (student) {
                // ç™»å½•æˆåŠŸï¼Œä¿å­˜ç”¨æˆ·ä¿¡æ¯åˆ°sessionStorage
                sessionStorage.setItem('currentUser', JSON.stringify(student));
                console.log('å­¦ç”Ÿç™»å½•æˆåŠŸï¼Œè·³è½¬åˆ°å­¦ç”Ÿé¢æ¿');
                window.location.href = 'student-dashboard.html';
            } else {
                console.log('å­¦ç”Ÿç™»å½•å¤±è´¥ï¼Œæœªæ‰¾åˆ°åŒ¹é…çš„ç”¨æˆ·');
                alert('å­¦ç”Ÿè´¦å·éªŒè¯å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç”¨æˆ·åå’Œå¯†ç \n\næç¤ºï¼š\n1. ä½¿ç”¨ç®¡ç†å‘˜æ·»åŠ çš„å­¦ç”Ÿè´¦å·\n2. æˆ–ä½¿ç”¨æ¼”ç¤ºè´¦å·ï¼š\n   - student1 / 123456 (å¼ ä¸‰)\n   - student2 / 123456 (æå››)');
            }
        }
        
        // æ•™å¸ˆæ¨¡å¼ç™»å½•
        function loginTeacher() {
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            
            if (!username || !password) {
                alert('è¯·è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ');
                return;
            }
            
            // ä»localStorageéªŒè¯æ•™å¸ˆè´¦å·
            const users = loadUsers();
            console.log('å½“å‰ç”¨æˆ·åˆ—è¡¨:', users);
            console.log('å°è¯•ç™»å½•:', { username, password, mode: 'teacher' });
            
            const teacher = users.find(user => 
                user.username === username && 
                user.password === password && 
                user.role === 'teacher' && 
                user.status === 'active'
            );
            
            console.log('æ‰¾åˆ°çš„æ•™å¸ˆç”¨æˆ·:', teacher);
            
            if (teacher) {
                // ç™»å½•æˆåŠŸï¼Œä¿å­˜ç”¨æˆ·ä¿¡æ¯åˆ°sessionStorage
                sessionStorage.setItem('currentUser', JSON.stringify(teacher));
                console.log('æ•™å¸ˆç™»å½•æˆåŠŸï¼Œè·³è½¬åˆ°æ•™å¸ˆé¢æ¿');
                window.location.href = 'teacher-dashboard.html';
            } else {
                console.log('æ•™å¸ˆç™»å½•å¤±è´¥ï¼Œæœªæ‰¾åˆ°åŒ¹é…çš„ç”¨æˆ·');
                alert('æ•™å¸ˆè´¦å·éªŒè¯å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç”¨æˆ·åå’Œå¯†ç \n\næç¤ºï¼š\n1. ä½¿ç”¨ç®¡ç†å‘˜æ·»åŠ çš„æ•™å¸ˆè´¦å·\n2. æˆ–ä½¿ç”¨æ¼”ç¤ºè´¦å·ï¼š\n   - teacher1 / 123456 (ç‹è€å¸ˆ)\n   - teacher2 / 123456 (æè€å¸ˆ)');
            }
        }

        // è¡¨å•æäº¤å¤„ç†
        document.getElementById('login-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = new FormData(this);
            const username = formData.get('username');
            const password = formData.get('password');
            const rememberMe = document.getElementById('remember-me').checked;
            
            console.log('ç™»å½•ä¿¡æ¯:', {
                mode: currentMode,
                username,
                password,
                rememberMe
            });
            
            // æ ¹æ®æ¨¡å¼è¿›è¡Œä¸åŒçš„ç™»å½•éªŒè¯
            if (currentMode === 'admin') {
                if (username === adminCredentials.username && password === adminCredentials.password) {
                    // ä¿å­˜ç®¡ç†å‘˜ä¿¡æ¯åˆ°sessionStorage
                    const adminUser = {
                        id: 1,
                        username: adminCredentials.username,
                        realName: 'ç³»ç»Ÿç®¡ç†å‘˜',
                        email: 'admin@system.com',
                        role: 'admin',
                        status: 'active'
                    };
                    sessionStorage.setItem('currentUser', JSON.stringify(adminUser));
                    alert('âœ… ç®¡ç†å‘˜ç™»å½•æˆåŠŸï¼\næ¬¢è¿ä½¿ç”¨äº‘å·¥åŠ');
                    // è·³è½¬åˆ°ç®¡ç†å‘˜ä¸»é¡µé¢
                    window.location.href = 'admin-dashboard.html';
                } else {
                    alert('âŒ ç®¡ç†å‘˜ç™»å½•å¤±è´¥ï¼\nè¯·æ£€æŸ¥ç”¨æˆ·åå’Œå¯†ç æ˜¯å¦æ­£ç¡®');
                }
            } else if (currentMode === 'student') {
                loginStudent();
            } else if (currentMode === 'teacher') {
                loginTeacher();
            }
        });

        // æ·»åŠ ä¸€äº›äº¤äº’æ•ˆæœ
        document.querySelectorAll('input, button').forEach(element => {
            element.addEventListener('focus', function() {
                this.classList.add('animate-pulse');
            });
            
            element.addEventListener('blur', function() {
                this.classList.remove('animate-pulse');
            });
        });

        // å¿«é€Ÿä¿®å¤å‡½æ•°
        function quickFix() {
            if (confirm('ç¡®å®šè¦ä¿®å¤ç™»å½•é—®é¢˜å—ï¼Ÿè¿™å°†é‡ç½®ç”¨æˆ·æ•°æ®åˆ°é»˜è®¤çŠ¶æ€ã€‚')) {
                console.log('ğŸ”§ å¼€å§‹å¿«é€Ÿä¿®å¤...');
                
                // æ¸…é™¤å¯èƒ½æŸåçš„æ•°æ®
                localStorage.removeItem('admin_users');
                sessionStorage.removeItem('currentUser');
                
                // é‡æ–°åˆå§‹åŒ–é»˜è®¤ç”¨æˆ·
                const users = loadUsers();
                
                alert(`âœ… ä¿®å¤å®Œæˆï¼\n\nå·²åˆå§‹åŒ– ${users.length} ä¸ªé»˜è®¤ç”¨æˆ·\nç°åœ¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹è´¦å·ç™»å½•ï¼š\n\nğŸ‘¨â€ğŸ’¼ ç®¡ç†å‘˜ï¼š18072830839 / ysh938798\nğŸ‘¨â€ğŸ“ å­¦ç”Ÿï¼šstudent1 / 123456 (å¼ ä¸‰)\nğŸ‘¨â€ğŸ« æ•™å¸ˆï¼šteacher1 / 123456 (ç‹è€å¸ˆ)`);
                
                // åˆ·æ–°é¡µé¢
                setTimeout(() => {
                    window.location.reload();
                }, 1000);
            }
        }

        // é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', async function() {
            console.log('é¡µé¢åŠ è½½å®Œæˆï¼Œåˆå§‹åŒ–ç”¨æˆ·æ•°æ®...');
            
            // å°è¯•GitHubåŒæ­¥
            const syncedUsers = await tryGitHubSync();
            
            // ç¡®ä¿é»˜è®¤ç”¨æˆ·æ•°æ®å­˜åœ¨
            const users = syncedUsers || loadUsers();
            console.log('åˆå§‹åŒ–åçš„ç”¨æˆ·æ•°æ®:', users);
            
            // æ˜¾ç¤ºå½“å‰å¯ç”¨çš„è´¦å·ä¿¡æ¯
            console.log('å¯ç”¨è´¦å·:');
            users.forEach(user => {
                console.log(`${user.role}: ${user.username} / ${user.password} (${user.realName})`);
            });
        });
    </script>
</body>
</html> 