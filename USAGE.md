# 教育平台使用说明

## 登录功能使用指南

### 🔧 问题修复说明

**问题描述**: 管理员添加的学生和教师账号无法登录

**修复内容**: 
- 更新了登录验证逻辑，现在支持从localStorage读取管理员添加的用户数据
- 添加了用户信息动态显示功能
- 创建了登录功能测试页面

### 📋 使用步骤

#### 1. 启动服务器

**Windows用户**:
```bash
# 双击运行
start-server.bat
```

**Linux/Mac用户**:
```bash
# 运行脚本
chmod +x start-server.sh
./start-server.sh
```

**手动启动**:
```bash
cd web
python -m http.server 8000
```

#### 2. 管理员添加用户

1. 访问 `http://localhost:8000/index.html`
2. 使用管理员账号登录：
   - 用户名：`18072830839`
   - 密码：`ysh938798`
3. 进入用户管理页面
4. 添加学生或教师账号，设置用户名和密码

#### 3. 测试登录功能

**方法一：使用测试页面**
1. 访问 `http://localhost:8000/test-login.html`
2. 查看localStorage中的用户数据
3. 使用添加的账号进行登录测试

**方法二：直接登录**
1. 访问 `http://localhost:8000/index.html`
2. 选择对应的角色模式（学生/教师）
3. 输入管理员添加的用户名和密码
4. 点击登录

### 🔍 验证方法

#### 检查用户数据
1. 打开浏览器开发者工具（F12）
2. 进入Application/Storage标签
3. 查看Local Storage中的`admin_users`数据
4. 确认用户数据格式正确

#### 测试登录流程
1. 使用管理员添加的账号登录
2. 检查页面顶部是否显示正确的用户信息
3. 验证是否可以正常访问对应角色的功能页面

### 📝 账号类型说明

#### 管理员账号
- **用户名**: `18072830839`
- **密码**: `ysh938798`
- **功能**: 系统管理、用户管理、数据统计

#### 演示账号（备用）
- **学生**: `student` / `123456`
- **教师**: `teacher` / `123456`
- **功能**: 演示各角色功能

#### 管理员添加的账号
- **来源**: 通过管理员控制台添加
- **存储**: localStorage中的`admin_users`
- **验证**: 登录时从localStorage读取验证

### 🛠️ 故障排除

#### 问题1：添加的用户无法登录
**解决方案**:
1. 检查用户状态是否为"正常"
2. 确认用户名和密码输入正确
3. 使用`test-login.html`页面验证用户数据

#### 问题2：页面显示默认用户信息
**解决方案**:
1. 清除浏览器缓存和localStorage
2. 重新添加用户数据
3. 刷新页面重新加载

#### 问题3：数据丢失
**解决方案**:
1. 使用`debug-localStorage.html`页面检查数据
2. 使用数据备份功能恢复
3. 重新初始化数据

### 📊 数据存储说明

#### localStorage数据
- `admin_users`: 用户数据
- `admin_courses`: 课程数据
- `admin_materials`: 资料数据

#### sessionStorage数据
- `currentUser`: 当前登录用户信息

### 🔗 相关页面

- **登录页面**: `index.html`
- **导航中心**: `navigation.html`
- **登录测试**: `test-login.html`
- **数据调试**: `debug-localStorage.html`
- **数据测试**: `test-data-persistence.html`

### 📞 技术支持

如遇到问题，请：
1. 查看浏览器控制台错误信息
2. 使用调试工具检查数据状态
3. 参考故障排除部分
4. 联系开发团队

---

**版本**: v1.0.0  
**更新日期**: 2024年1月15日  
**状态**: ✅ 已修复登录功能 